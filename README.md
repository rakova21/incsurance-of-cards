# **Программное средство страхования рисков, связанных с использованием банковских платежных карточек и электронных кошельков для физических лиц**

Программное средство предоставляет возможность формирования договора о страховании не выходя из дома, а также помогает  страховому агенту, заключающему договоры с клиентами в офисе, используя ПО значиттельно сократить время оформления, а также минимизировать риск ошибок в заполнении бланков договоров. ПС содержит информативный блок, где есть все необходимые блоки инфорамации, которые нужно знать страхователю. Также для клиента предусмотрена возможность задать оставщиеся вопросы сотруднику страховой компании в чате.

Ссылки на репозитории сервера и клиента
Сервер:https://github.com/rakova21/incsurance-of-cards-server.git
Клиент:https://github.com/rakova21/incsurance-of-cards-client.git
---

## **Содержание**

1. [Архитектура](#Архитектура)
	1. [C4-модель](#C4-модель)
	2. [Схема данных](#Схема_данных)
2. [Функциональные возможности](#Функциональные_возможности)
	1. [Диаграмма вариантов использования(#Диаграмма_вариантов_использования)]
	2. [User-flow диаграммы](#User-flow_диаграммы)
3. [Детали реализации](#Детали_реализации)
	1. [UML-диаграммы](#UML-диаграммы)
	2. [Спецификация API](#Спецификация_API)
	3. [Безопасность](#Безопасность)
	4. [Оценка качества кода](#Оценка_качества_кода)
4. [Тестирование](#Тестирование)
	1. [Unit-тесты](#Unit-тесты)
	2. [Интеграционные тесты](#Интеграционные_тесты)
5. [Установка и  запуск](#installation)
	1. [Манифесты для сборки docker образов](#Манифесты_для_сборки_docker_образов)
	2. [Манифесты для развертывания k8s кластера](#Манифесты_для_развертывания_k8s_кластера)
6. [Лицензия](#Лицензия)
7. [Контакты](#Контакты)

---
## **Архитектура**

### C4-модель

Иллюстрация и описание архитектура ПС

### Схема данных

<img width="551" height="784" alt="image" src="https://github.com/user-attachments/assets/993b335d-90ad-44bb-bd1c-a2b3d09e1e3f" />

Программное средство страхования рисков, связанных с использованием банковских платежных карточек и электронных кошельков для физических лиц FinShield обеспечивает взаимодействие между четырьмя основными категориями пользователей: страхователями, страховыми агентами, специалистами по договорам и системным администратором. Каждый из участников решает собственные задачи: страхователь получает доступ к информации, оформляет договоры и оплачивает их; страховой агент помогает клиентам с заполнением и формированием договоров; специалист по договорам проверяет их корректность и подтверждает актуальный статус; системный администратор управляет пользователями и настройками системы.
Система FinShield реализована с использованием нескольких ключевых контейнеров. Основой взаимодействия пользователей является клиентское приложение, которое предоставляет удобный интерфейс для работы с договорами, информационными материалами и чатом со специалистом.
Вся бизнес-логика системы сосредоточена в Backend-приложении на базе Spring Boot. Оно отвечает за обработку запросов от клиентского приложения, выполнение бизнес-правил, проверку условий страхования и управление процессами оплаты.
Хранение информации осуществляется в базе данных MySQL, которая содержит сведения о пользователях системы, договорах страхования, их статусах и операциях по оплате. Доступ к базе данных возможен исключительно через Backend, что гарантирует централизованный контроль за чтением и записью данных, а также поддержание целостности и согласованности данных в системе.

<img width="1097" height="801" alt="image" src="https://github.com/user-attachments/assets/9d0ce557-7a1c-44d4-b4d6-3a2ad473f58b" />

На компонентном уровне программное средство FinShield представлена как набор логически взаимосвязанных модулей, каждый из которых выполняет строго определённые задачи. Диаграмма отражает взаимодействие между клиентским приложением, серверной частью и базой данных. Такой подход позволяет обеспечить чёткое разделение обязанностей, прозрачность структуры и удобство сопровождения программного средства.
Клиентская часть реализована в виде веб-приложения. Она формирует пользовательский интерфейс для всех категорий участников – страхователя, страхового агента, специалиста по договорам и системного администратора. Основная её функция заключается в том, чтобы принимать ввод пользователя, отправлять запросы к серверу и отображать результаты обработки в удобной форме.
Серверная часть состоит из двух ключевых уровней – контроллеров и сервисов. Контроллеры отвечают за приём запросов от клиентского приложения и передачу их соответствующим сервисам. На диаграмме представлены следующие контроллеры: UserController, ContractController, PaymentController, ChatController, TemplateController, AdminController. Каждый из них выполняет свою задачу: от регистрации пользователей и управления договорами до обработки платежей, поддержки чата и выполнения административных функций.
Сервисы, в свою очередь, инкапсулируют бизнес-логику системы. Они содержат алгоритмы и правила работы с данными и обеспечивают выполнение ключевых операций. На диаграмме показаны следующие сервисы: UserService, ContractService, PaymentService, ChatService, TemplateService, AdminService. Например, ContractService управляет жизненным циклом договоров, PaymentService отвечает за обработку платежей и их подтверждение, а ChatService обеспечивает обмен сообщениями между пользователем и специалистом. Сервисы взаимодействуют напрямую с базой данных и предоставляют контроллерам уже готовые результаты обработки.
Центральным хранилищем данных является база данных MySQL, где сохраняется информация обо всех пользователях, договорах, платежах, шаблонах документов, истории переписки и статусах. Взаимодействие с базой данных осуществляется только через сервисы, что гарантирует целостность и согласованность информации.


---

## **Функциональные возможности**

### Диаграмма вариантов использования

Диаграмма вариантов использования и ее описание

### User-flow диаграммы

User-flow диаграмма для роли «Системный администратор» представлена на рисунке 1.

<img width="992" height="771" alt="image" src="https://github.com/user-attachments/assets/ee82cc74-85f0-4621-bc2f-88210728a7ec" />

Рисунок 1 – User-flow диаграмма для роли «Системный администратор»

User-flow диаграмма для роли «Системный администратор» отражает последовательность действий, связанных с управлением пользователями в программном средстве страхования рисков, возникающих при использовании банковских платежных карточек и электронных кошельков. Задачей пользователя, авторизированного под данной ролью является выполнение административных функций, связанных с изменением ролей, блокировкой, разблокировкой и удалением учетных записей.
Диаграмма включает два крупных процесса: регистрацию и вход в систему, а также управление пользователями. На первом этапе пользователь либо регистрируется, если ранее не имел учетной записи, либо проходит процедуру входа в систему. При регистрации необходимо ввести свою фамилию, имя и отчество, другие персональные данные, и, наконец, логин и пароль. После заполнения система проверяет корректность введенной информации. Если данные заполнены верно, создается новая учетная запись, и пользователь может войти в систему. В случае, если пользователь уже зарегистрирован, он вводит логин и пароль для авторизации, и при успешной проверке данных получает доступ к интерфейсу системы.
После входа системный администратор получает доступ к функциям управления пользователями. В этой части диаграммы представлены действия, связанные с просмотром списка пользователей. Администратор может выбрать конкретного пользователя и изменить его роль в системе, при необходимости временно заблокировать или, наоборот, разблокировать доступ к учетной записи. Кроме того, предусмотрена возможность полного удаления пользователя из базы данных системы. Все операции требуют подтверждения, что обеспечивает контроль действий и предотвращает случайные изменения.
В результате реализации описанного процесса обеспечивается поддержание актуальности данных о пользователях системы, контроль над доступом к функциональным возможностям и безопасностью работы программного средства. Системный администратор выполняет ключевую роль в обеспечении корректной работы системы и управлении пользовательскими учетными записями, гарантируя надежность и защищенность программного продукта.
На рисунке 2 отображена user-flow диаграмма для роли «Страхователь».

 <img width="864" height="765" alt="image" src="https://github.com/user-attachments/assets/5424f96d-ad3b-40b0-8d1a-8750fbcd6331" />

Рисунок 2 – User-flow диаграмма для роли «Страхователь»

User-flow диаграмма, представленная для роли «Страхователь», демонстрирует логику взаимодействия клиента с программным средством. Основное назначение этой схемы – показать, каким образом пользователь проходит путь от регистрации до оформления и оплаты страхового договора, а также как он может получать информационную поддержку.
Регистрация и вход проходит аналогично у всех ролей.
После входа страхователь получает возможность работать с несколькими функциональными разделами. Один из них – информационный, предназначенный для взаимодействия с сотрудниками страховой компании. Пользователь может задать вопрос, получить ответ и при необходимости уточнить дополнительные детали. Такой механизм делает систему не просто средством оформления договоров, а полноценным инструментом консультирования и сопровождения клиента.
Другой функциональный блок связан с управлением персональной информацией. Здесь страхователь может просмотреть свой профиль, при необходимости скорректировать личные данные и сохранить изменения. Система проверяет корректность введенной информации, что позволяет поддерживать достоверность сведений и предотвращает ошибки при дальнейшем оформлении документов.
Отдельное внимание в диаграмме уделено процессу работы с объектами страхования. Пользователь может просматривать существующие объекты или добавить новые – например, указать данные банковской карты или электронного кошелька, которые подлежат страхованию. После заполнения соответствующих полей система проверяет правильность введенной информации и сохраняет объект.
Ключевой бизнес-процесс – заключение страхового договора. Страхователь выбирает страхуемый объект, вводит необходимые данные для договора и отправляет заявку. После проверки данных менеджером система уведомляет пользователя о статусе заявки. В случае положительного решения страхователь переходит к оплате услуги. Оплата может осуществляться различными способами, предусмотренными системой, а после подтверждения платежа договор получает статус «Оплачен».
Кроме того, система предоставляет пользователю возможность просматривать справочную информацию – перечень доступных видов страхования, условия услуг, ответы на часто задаваемые вопросы. Это помогает страхователю лучше ориентироваться в возможностях программы и самостоятельно принимать решения.
В целом, диаграмма последовательность действий, позволяющую пользователю без лишних сложностей заключить страховой договор. Процесс охватывает все ключевые аспекты взаимодействия – от первичной регистрации и консультаций до формирования и оплаты договора.
Далее на рисунке 3 представлена user-flow диаграмма для роли «Специалист по договорам».

<img width="896" height="682" alt="image" src="https://github.com/user-attachments/assets/0d883c42-f4d5-49d8-9e6a-959601f77ba4" />

Рисунок 3 – User-flow диаграмма для роли «Специалист по договорам»

Диаграмма для роли «Специалист по договорам» описывает процесс работы сотрудника страховой компании, отвечающего за проверку, утверждение и сопровождение договоров страхования. Основная задача данной роли заключается в обеспечении корректности данных, внесённых страхователе, контроле статусов договоров, а также взаимодействии с клиентами через систему.
Работа специалиста начинается аналогично предыдущим ролям с авторизации. 
Одним из направлений работы является управление информационным контентом для страхователей. Специалист может просматривать существующие информационные блоки, вносить правки и сохранять обновления. Это позволяет поддерживать актуальность представленных сведений о страховых продуктах, тарифах и условиях заключения договоров. Благодаря этому пользователи системы получают достоверную и своевременную информацию.
Другой важный процесс, который является одним из ключевых, отражает контроль состояния договоров. Специалист просматривает оформленные договоры страхования и проверяет, была ли произведена их оплата. Если договор оплачен, сотрудник меняет его статус на «Готов к подписанию» и формирует окончательную версию страхового документа. 
Еще одним из ключевых процессов является работа с заявками на страхование. Специалист получает доступ к списку заявок, поданных страхователями, и проверяет корректность внесённых данных. В случае ошибок он может оставить комментарии, указывая на найденные неточности. Если данные верны, специалист вносит недостающие данные и формирует окончательный договор и присваивает ему соответствующий статус.
Последний функциональный блок диаграммы связан с обратной связью с клиентами. Специалист имеет возможность просматривать поступившие от страхователей вопросы и оставлять на них ответы. Таким образом, он выполняет и консультационную функцию, обеспечивая оперативное взаимодействие между страховой компанией и пользователями.
Данная роль является связующим звеном между системой, страхователями и страховыми агентами, гарантируя корректное оформление и сопровождение договоров на всех этапах их существования.
User-flow диаграмма для роли «Страховой агент» представлена на рисунке 4.

 <img width="878" height="763" alt="image" src="https://github.com/user-attachments/assets/33168ce1-355a-40ba-af0f-c2bf28dfa113" />

Рисунок 4 – User-flow диаграмма для роли «Страховой агент»
User-flow для роли «Страховой агент» иллюстрирует последовательность действий сотрудника страховой компании, который непосредственно занимается оформлением и сопровождением договоров страхования в офисе. 
Начало работы страхового агента, как и у других пользователей, начинается с авторизации. После успешного входа система предоставляет доступ ко всем инструментам, необходимым для выполнения его профессиональных обязанностей.
Первое направление работы агента – просмотр заключённых договоров. В интерфейсе программы агент может открыть список ранее оформленных договоров, просмотреть их параметры и статусы, проверить сроки действия, суммы страховых выплат и данные клиентов. 
Главный функциональный блок диаграммы – оформление нового страхового договора. Процесс начинается с выбора команды «Начать формирование договора». Далее агент вносит все необходимые сведения: данные клиента, объект страхования, период действия, условия и размер страховой суммы и проверяет правильность заполненных полей. Если данные введены корректно, формируется договор для подписания обеими сторонами – страховой компанией и страхователем. После этого агент сохраняет документ и присваивает ему статус «Заключён». Поскольку оформление договора происходит в присутствии клиента, такие договоры сразу считаются оплаченными.
Для структурированного, четкого и актуального информирования клиентов агент имеет доступ к информационному разделу. Здесь он может просматривать актуальные сведения о страховых продуктах, тарифах, сроках и условиях. Иформационный блок выступает не только справочным ресурсом, но и инструментом повышения качества обслуживания.
В совокупности все процессы, представленные на диаграмме, формируют логичную и завершённую схему деятельности страхового агента. Такая организация работы способствует повышению доверия к страховой компании и оптимизирует процесс взаимодействия с пользователями.


---

## **Детали реализации**

### UML-диаграммы

Представить все UML-диаграммы , которые позволят более точно понять структуру и детали реализации ПС

### Спецификация API

Представить описание реализованных функциональных возможностей ПС с использованием Open API (можно представить либо полный файл спецификации, либо ссылку на него)

### Безопасность

Описать подходы, использованные для обеспечения безопасности, включая описание процессов аутентификации и авторизации с примерами кода из репозитория сервера

### Оценка качества кода

Используя показатели качества и метрики кода, оценить его качество

---

## **Тестирование**

### Unit-тесты

Представить код тестов для пяти методов и его пояснение

### Интеграционные тесты

Представить код тестов и его пояснение

---

## **Установка и  запуск**

### Манифесты для сборки docker образов

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

### Манифесты для развертывания k8s кластера

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

---

## **Лицензия**

Этот проект лицензирован по лицензии MIT - подробности представлены в файле [[License.md|LICENSE.md]]

---

## **Контакты**

Автор: katya.rkv.21@gmail.com
